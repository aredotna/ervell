.grid
  display flex
  flex-flow row wrap
  align-items center

.grid--feed
  justify-content center

.grid__block
  flex 1 1 285px
  max-width 315px
  text-align center
  margin 0 10px 90px 10px
  position relative
  display inline-block
  background-color white
  user-select none

  &:hover
    cursor pointer

  // TODO
  .tooltip
    width 120px
    left -47px

.block-padding
  padding-top 100%

.grid__block__inner:hover
.grid__block__inner.is-active
  border 1px solid colors-gray-border
  cursor pointer

  .grid__block__overlay
    opacity 1
    pointer-events all

  .grid__block__author
    visibility visible

.grid__block__inner.is-active
  border 1px dashed colors-gray-border

body.is-mobile .grid__block__inner:hover
body.is-mobile .grid__block__inner.is-active
  .grid__block__overlay
    opacity 1

.grid__block__content
  height 100%
  width 100%

.grid__block--block .grid__block__inner
.grid__block--loading .grid__block__inner
  background-size 80px 80px
  background-image linear-gradient(
    45deg,
    rgba(colors-gray-border, 0.5) 25%,
    transparent 25%,
    transparent 50%,
    rgba(colors-gray-border, 0.5) 50%,
    rgba(colors-gray-border, 0.5) 75%,
    transparent 75%,
    transparent
  )
  animation loading 0.5s linear infinite

@keyframes loading
  from
    background-position 0 0
  to
    background-position 160px 80px

.grid__block__inner
  position absolute
  top 0
  bottom 0
  left 0
  right 0
  border 1px solid white

.grid__block--placeholder.loading .grid__block__inner
  border 1px dashed colors-gray-border

.grid__block__author
  visibility hidden

body:not(.is-mobile) .grid__block:hover
  .grid__block__author
    visibility visible

  .grid__block__title
    display none

.is-mobile .grid__block:hover
  .grid__block__author
    visibility hidden

  .grid__block__title
    display static

.grid__block__title
.grid__block__author
  color colors-gray-light
  font-size s_caption
  font-weight bold
  text-align center
  padding 20px 0 5px 0
  left 0
  position absolute
  width 100%
  white-space nowrap
  line-height 1.2

  &:hover
    color colors-gray-light

  svg
    position absolute
    margin -2px 0 0 7px

.grid__block__overlay
  opacity 0
  pointer-events none
  background-position center
  background-size 40%
  background-repeat no-repeat
  cursor pointer
  display flex
  justify-content center
  align-items center

.block-item__bottom-buttons
  position absolute
  width 100%
  bottom 0
  left 0
  display flex
  justify-content center

.button--inblock
  font-size 15px
  font-weight bold
  color colors-gray-text
  padding 18px 20px
  margin 1%
  background-color rgba(white, 0.85)
  cursor pointer
  width 125px
  &:hover
    color colors-gray-hover
    background-color rgba(white, 1)
  &--view
    width 150px

.grid__block--channel
.grid__block--user
  .button--inblock
    z-index 1
    border-top 1px solid colors-gray-border
    background-color transparent

    &:hover
      border-top 1px solid colors-gray-text
      background-color transparent

.grid__block--user
  .button--inblock
    width 140px
    border-top 1px solid colors-gray-lightplus

// .grid__block__delete-block
//   position absolute
//   top 5px
//   right 5px

//   &:hover .grid__block__delete-block__confirm
//     color white

.grid__block__content__image
  max-width 100%
  max-height 100%

.grid__block--text .valign-inner
  vertical-align top

.grid__block__content__text
  height 100%
  padding 1em
  overflow  hidden
  word-wrap break-word
  font-family font_serif
  font-size font-size-base
  line-height line-height-tall

  h1
  h2
    font-size font-size-large

  p
    collapsed-margins(1em)

  a
    font-weight bold

  ul
    ul: 'square'

  ol
    ol()

  em
  strong
  blockquote
  ul
  ol
    padding 0

  hr
    rule()

  blockquote
    margin 10px 0 10px 2px
    border-left 1px solid colors-gray-border
    p
      padding 0 25px 0 10px

.GridBlockRemove
  display none
  position absolute
  top 1em
  right 1em
  color colors-gray-light

  &:hover
    color colors-state-alert

.GridBlocks.is-editable
.GridBlock.can-edit
.GridBlock.can-manage
  .GridBlockRemove
    display block

/* USER */
.grid__block--user:hover
  color colors-gray-hover

  .grid__block__inner
    border 2px solid colors-gray-light

  &:hover
    .grid__block__author
      visibility visible

    .grid__block__title
      display none

.grid__block--user .grid__block__inner
  background-color colors-gray-background
  border 2px solid colors-gray-light

  h2
    height 60px
    margin 30px 0 0 0

  &:hover
    color colors-gray-hover
    border 2px solid colors-gray-border

/* ATTACHMENT */
.grid__block__channel--attachment-bk
  // TODO: wut
  background-color #EAEAEA

  .iconic-property-fill
    fill colors-gray-text

/* CHANNEL */
.grid__block--channel
  .grid__block__inner
  .grid__block__overlay
    &--closed
      border-color rgba(colors-channel-closed, colors-border-alpha)
      color colors-channel-closed
      &:hover
        border-color colors-channel-closed
    &--private
      border-color rgba(colors-channel-private, colors-border-alpha)
      color colors-channel-private
      &:hover
        border-color colors-channel-private
    &--public
      border-color rgba(colors-channel-public, colors-border-alpha)
      color colors-channel-public
      &:hover
        border-color colors-channel-public

  h2
    font-weight normal
    padding 15px 12px 0 12px
    word-break break-word

  .grid__block__content
  .valign-inner
  .valign-outer
    width 100%

  .grid__block__inner
    border-width 2px

  .button--inblock
    color inherit
    border-color inherit

    &:hover
      color colors-gray-hover

.grid__block__channel__stats
  font-weight normal
  line-height 1.5em
  font-size s_caption + 1
  height 25px
  margin 5px 0 0 0

.grid__block__mini-feed
  display none
  font-size s_caption
  padding-top 135px
  font-weight bold
  color colors-gray-text

  span
    padding 0 5px

/* COMMENT */
.grid__block__content__comment
  height 100%
  background-color colors-gray-background
  padding 0 1.1em 0 1.1em
  border-top 1px solid colors-gray-light

  p
    padding 1em
    font-family font_serif
    font-size font-size-base
    line-height line-height-tall

/* CONNECT */
.grid__block__connect-container
  position absolute
  top 0
  right 0
  bottom 0
  left 0
  z-index 10
  opacity 0
  pointer-events none

  &.is-active
    opacity 1
    pointer-events all

// COMMENTs
.grid__block__comment-count
  position absolute
  bottom (unit / 2)
  right (unit / 2)
  width unit * 1.5
  height unit * 1.5
  line-height unit * 1.5
  font-size .8rem
  text-align center
  background-color rgba(white, 0.85)

  &:hover
    background-color rgba(white, 1)

@media (max-width:(block_width_mar * 3))
  .grid
    justify-content center

body.is-mobile
  .grid__block__overlay
    opacity 1

    .Button
    .button--inblock
      display none

+mobile()
  .grid__block
    margin 0 0 80px 0

  .grid__block--text .grid__block__inner
    border 1px solid colors-gray-lightplus

  .is-mobile .grid__block:hover .grid__block__inner .grid__block__title, .is-mobile .grid__block__title
    display static !important

@require '../../lightbox/stylesheets/lightbox' // Includes random styles that need to be deprecated
@require '../../connect/stylesheets/index'
