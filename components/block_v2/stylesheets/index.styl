// TODO:
// - Simplify DOM structure; unnest BEM
// - Use existing font sizes
// - Remove `unit`s; convert to ems

block-size = 315px
block-t-margin = 20px
block-h-margin = 10px
block-b-margin = 60px

.Block
  position relative
  flex 1 1 block-size
  max-width block-size
  margin block-t-margin block-h-margin block-b-margin block-h-margin
  text-align center

  &__caption
    position absolute
    font-size s_caption
    font-weight bold
    color colors-gray-light
    padding 2em 0 0.5em
    width 100%
    text-align center
    line-height 1.2

    &__title
      padding 0 4em
      white-space nowrap
      overflow hidden
      text-overflow ellipsis
      vertical-align middle

      svg
        vertical-align bottom
        margin-left .5em

    &__meta
      display none

  &--connecting
    .Block__inner__connect
      display block
      z-index 10

  &:hover &__caption__title
    display none

  &:hover &__caption__meta
    display block

  &__inner
    position relative
    height block-size
    border 1px solid transparent

    &:hover
      border 1px solid colors-gray-border

    &:hover &__overlay
      display flex

    &__connect
      display none
      position absolute
      top 0
      left 0
      width 100%
      height 100%
      background white

    &__overlay
      display none
      position absolute
      top 0
      left 0
      width 100%
      height 100%
      justify-content center
      align-items center

      &__channel-actions
        position absolute
        left 0
        bottom .25em
        display flex
        width 100%
        padding 0 1em

        button
          width 50%
          margin 0 0.25em

    &--channel
      display flex
      border 2px solid colors-gray-border
      justify-content center
      align-items center
      flex-direction column
      padding (unit / 2)
      border 2px solid
      h2
        font-weight normal
        padding (unit * 2) 0 0
        margin 0 0 0.4em
        word-break break-word

      &__stats
        font-size s_small
        line-height 1.5em

      &--closed
        border-color rgba(colors-channel-closed, colors-border-alpha)
        color colors-channel-closed
        &:hover
          border 2px solid colors-channel-closed

      &--private
        border-color rgba(colors-channel-private, colors-border-alpha)
        color colors-channel-private
        &:hover
          border 2px solid colors-channel-private

      &--public
        border-color rgba(colors-channel-public, colors-border-alpha)
        color colors-channel-public
        &:hover
          border 2px solid colors-channel-public

    &--text
      &__content
        display block
        padding unit
        overflow hidden
        text-align left
        font-size font-size-base
        font-family font_serif
        max-height block-size

        p
          margin 0.75em 0
          line-height line-height-tall

          &:first-of-type:empty
            display none

    &--image
    &--link
    &--attachment
    &--embed
      display flex
      align-items center
      justify-content center
      position relative

      img
        max-width 100%
        max-height 100%

    &--attachment
      background colors-gray-background

      .iconic-property-fill
        fill colors-gray-text
